

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install ESSArch Preservation Platform &mdash; ESSArch Core 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Upgrade ESSArch Preservation Platform" href="upgrade.html" />
    <link rel="prev" title="Prepare Environment" href="prepare_environment.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ESSArch Core
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../configuration/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/databases.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/rabbitmq.html">RabbitMQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/transformers.html">Transformers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#getting-the-source">Getting the source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#setting-up-virtual-python-environments">Setting up virtual Python environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#installing-python-dependencies">Installing Python dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#setting-environment-variables">Setting environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#configuring-services">Configuring services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#running-migrations">Running migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#installing-initial-data">Installing initial data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#building-the-frontend">Building the frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#starting-the-development-web-server">Starting the development web server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#starting-background-workers">Starting background workers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development.html#starting-background-beat-processes">Starting background beat processes</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../directory_structure.html">Directory Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/index.html">ESSArch Core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../core/prerequisites.html">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/prerequisites.html#supported-os-platforms">Supported OS platforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/prerequisites.html#os-packages">OS Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/prerequisites.html#installing-packages">Installing packages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/prepare_environment.html">Prepare Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/prepare_environment.html#create-user-and-group">Create user and group</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/prepare_environment.html#set-password-for-arch-user">Set password for arch user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/prepare_environment.html#customize-user-environment-for-arch-user">Customize user environment for arch user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/prepare_environment.html#create-installation-directory">Create installation directory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/install.html">Install ESSArch Core</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/install.html#ec-installation-script">EC installation script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/install.html#enable-automatic-startup-at-system-boot">Enable automatic startup at system boot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/upgrade.html">Upgrade ESSArch Core</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/upgrade.html#stop-services">Stop services</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/upgrade.html#verify-that-a-backup-of-the-database-exists-at-essarch-backup">Verify that a backup of the database exists at /ESSArch/backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/upgrade.html#start-services">Start services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/safety_backup_procedures.html">Safety backup procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/safety_backup_procedures.html#important-files-to-backup">Important files to backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core/logfiles.html">Logfiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../core/logfiles.html#events-and-log-information">Events and log information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../etp/index.html">ESSArch Tools Producer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../etp/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../etp/prepare_environment.html">Prepare Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/prepare_environment.html#customize-user-environment-for-arch-user">Customize user environment for arch user</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../etp/install.html">Install ESSArch Tools Producer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/install.html#etp-installation-script">ETP installation script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/install.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/install.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/install.html#enable-automatic-startup-at-system-boot">Enable automatic startup at system boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/install.html#enable-workerprocess">Enable workerprocess</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../etp/upgrade.html">Upgrade ESSArch Tools Producer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/upgrade.html#stop-services">Stop services</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/upgrade.html#verify-that-a-backup-of-the-database-exists-at-essarch-backup">Verify that a backup of the database exists at /ESSArch/backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/upgrade.html#install-new-essarch-tools-producer">Install new ESSArch Tools Producer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/upgrade.html#start-services">Start services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../etp/running.html">Running ESSArch Tools Producer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/running.html#start-etp-server">Start ETP server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/running.html#stop-etp-server">Stop ETP server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/running.html#access-etp-web-user-interface">Access ETP web user interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../etp/safety_backup_procedures.html">Safety backup procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/safety_backup_procedures.html#configure-backup-of-mysql-mariadb">Configure backup of MySQL / MariaDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../etp/safety_backup_procedures.html#important-files-to-backup">Important files to backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../etp/logfiles.html">Logfiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../etp/logfiles.html#events-and-log-information">Events and log information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../eta/index.html">ESSArch Tools Archive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../eta/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eta/prepare_environment.html">Prepare Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/prepare_environment.html#customize-user-environment-for-arch-user">Customize user environment for arch user</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eta/install.html">Install ESSArch Tools Archive</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/install.html#eta-installation-script">ETA installation script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/install.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/install.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/install.html#enable-automatic-startup-at-system-boot">Enable automatic startup at system boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/install.html#enable-workerprocess">Enable workerprocess</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eta/upgrade.html">Upgrade ESSArch Tools Archive</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/upgrade.html#stop-services">Stop services</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/upgrade.html#verify-that-a-backup-of-the-database-exists-at-essarch-backup">Verify that a backup of the database exists at /ESSArch/backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/upgrade.html#install-new-essarch-tools-archive">Install new ESSArch Tools Archive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/upgrade.html#start-services">Start services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eta/running.html">Running ESSArch Tools Archive</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/running.html#start-eta-server">Start ETA server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/running.html#stop-eta-server">Stop ETA server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/running.html#access-eta-web-user-interface">Access ETA web user interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eta/safety_backup_procedures.html">Safety backup procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/safety_backup_procedures.html#configure-backup-of-mysql-mariadb">Configure backup of MySQL / MariaDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../eta/safety_backup_procedures.html#important-files-to-backup">Important files to backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eta/logfiles.html">Logfiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../eta/logfiles.html#events-and-log-information">Events and log information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">ESSArch Preservation Platform</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="prepare_environment.html">Prepare Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prepare_environment.html#customize-user-environment-for-arch-user">Customize user environment for arch user</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Install ESSArch Preservation Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#epp-installation-script">EPP installation script</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-automatic-startup-at-system-boot">Enable automatic startup at system boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-workerprocess">Enable workerprocess</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html">Upgrade ESSArch Preservation Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="upgrade.html#stop-services">Stop services</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrade.html#verify-that-a-backup-of-the-database-exists-at-essarch-backup">Verify that a backup of the database exists at /ESSArch/backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrade.html#install-new-essarch-preservation-platform">Install new ESSArch Preservation Platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrade.html#start-services">Start services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="running.html">Running ESSArch Preservation Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="running.html#start-epp-server">Start EPP server</a></li>
<li class="toctree-l4"><a class="reference internal" href="running.html#stop-epp-server">Stop EPP server</a></li>
<li class="toctree-l4"><a class="reference internal" href="running.html#access-epp-web-user-interface">Access EPP web user interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="safety_backup_procedures.html">Safety backup procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="safety_backup_procedures.html#configure-backup-of-mysql-mariadb">Configure backup of MySQL / MariaDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="safety_backup_procedures.html#important-files-to-backup">Important files to backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="logfiles.html">Logfiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="logfiles.html#events-and-log-information">Events and log information</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../restapi/index.html">REST API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../restapi/information-packages.html">Information Packages</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESSArch Core</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Installation</a> &raquo;</li>
        
          <li><a href="index.html">ESSArch Preservation Platform</a> &raquo;</li>
        
      <li>Install ESSArch Preservation Platform</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/installation/epp/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="install-essarch-preservation-platform">
<span id="epp-install"></span><h1>Install ESSArch Preservation Platform<a class="headerlink" href="#install-essarch-preservation-platform" title="Permalink to this headline">¶</a></h1>
<div class="section" id="epp-installation-script">
<h2>EPP installation script<a class="headerlink" href="#epp-installation-script" title="Permalink to this headline">¶</a></h2>
<p>Please download the latest installation package from <a class="reference external" href="https://github.com/ESSolutions/ESSArch_EPP/releases/latest">Github</a></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change to user &quot;arch&quot; with the following command.</span>
$ su - arch

<span class="c1"># Extract and install the downloaded package.</span>
<span class="o">[</span>arch@server ~<span class="o">]</span>$ tar xvf ESSArch_PP_installer-x.x.x.tar.gz
<span class="o">[</span>arch@server ~<span class="o">]</span>$ <span class="nb">cd</span> ESSArch_PP_installer-x.x.x
<span class="o">[</span>arch@server ~<span class="o">]</span>$ ./install

<span class="c1"># The installation of ESSArch is now running and dependent on hardware</span>
<span class="c1"># configuration, the installation may take some time. To see details of the</span>
<span class="c1"># installation progress please start a new terminal window and run the</span>
<span class="c1"># following command.</span>
<span class="o">[</span>arch@server ~<span class="o">]</span>$ tail -f /ESSArch/install_epp.log

<span class="c1"># When installation is finished, search in the log file /ESSArch/install_epp.log</span>
<span class="c1"># for any unexpected errors indicating failure of installation of any modules.</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="apache-httpd-configuration">
<h3>Apache httpd configuration<a class="headerlink" href="#apache-httpd-configuration" title="Permalink to this headline">¶</a></h3>
<p>Edit file <code class="docutils literal highlight highlight-default"><span></span><span class="o">/</span><span class="n">ESSArch</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">httpd</span><span class="o">-</span><span class="n">epp</span><span class="o">.</span><span class="n">conf</span></code> and change the configuration entry
for “ServerName” to same as the hostname of the ESSArch server.</p>
<p>Add the line <code class="docutils literal highlight highlight-default"><span></span><span class="s2">&quot;Include /ESSArch/config/httpd-epp.conf&quot;</span></code> in the file
<code class="docutils literal highlight highlight-default"><span></span><span class="o">/</span><span class="n">ESSArch</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">httpd</span><span class="o">.</span><span class="n">conf</span></code></p>
<p>For test purpose you can use the existing configuration for SSL certificate,
but for production environment and for maximum security we recommend generating
your own SSL certificate or if you have your own SSL trusted certificate
install them in the apache httpd configuration.</p>
</div>
<div class="section" id="collect-static-files-to-be-served-by-apache-httpd">
<h3>Collect static files to be served by apache httpd<a class="headerlink" href="#collect-static-files-to-be-served-by-apache-httpd" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Please run the following command as user arch</span>
<span class="o">[</span>arch@server ~<span class="o">]</span>$ python <span class="nv">$EPP</span>/manage.py collectstatic
</pre></div>
</div>
</div>
<div class="section" id="epp-configuration">
<h3>EPP configuration<a class="headerlink" href="#epp-configuration" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal highlight highlight-default"><span></span><span class="o">/</span><span class="n">ESSArch</span><span class="o">/</span><span class="n">config</span></code> contains the configuration files for ESSArch. To change the
configuration of EPP, create or update
<code class="docutils literal highlight highlight-default"><span></span><span class="o">/</span><span class="n">ESSArch</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">local_epp_settings</span><span class="o">.</span><span class="n">py</span></code></p>
</div>
<div class="section" id="rabbitmq-virtual-host-configuration-for-epp">
<h3>RabbitMQ virtual host configuration for EPP<a class="headerlink" href="#rabbitmq-virtual-host-configuration-for-epp" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Add virtual host to RabbitMQ as user root:
$ rabbitmqctl add_user guest guest
$ rabbitmqctl add_vhost epp
$ rabbitmqctl set_permissions -p epp guest <span class="s2">&quot;.*&quot;</span> <span class="s2">&quot;.*&quot;</span> <span class="s2">&quot;.*&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="database">
<h2>Database<a class="headerlink" href="#database" title="Permalink to this headline">¶</a></h2>
<p>ESSArch is designed to be RDBMS-independent. However the installation package
is prepared for MySQL/MariaDB and the following instructions assume that you
use MySQL/MariaDB.</p>
<div class="section" id="mysql">
<h3>MySQL<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h3>
<p>Follow the instructions below in order to create the user and tables required by EPP installation.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># To enable MySQL on CentOS 6 run the following commands as user root</span>
$ /sbin/chkconfig mysqld on
$ /sbin/service mysqld start
$ /usr/bin/mysql_secure_installation

<span class="c1"># The MySQL commands listed below can be run within the mysql program, which</span>
<span class="c1"># may be invoked as follows.</span>
$ mysql -u root -p

<span class="c1"># Create the database. For example, to create a database named &quot;epp&quot;, enter.</span>
$ mysql&gt; CREATE DATABASE epp DEFAULT CHARACTER SET utf8<span class="p">;</span>

<span class="c1"># Set username, password and permissions for the database. For example, to</span>
<span class="c1"># set the permissions for user &quot;arkiv&quot; with password &quot;password&quot; on database</span>
<span class="c1"># &quot;epp&quot;, enter:</span>
$ mysql&gt; GRANT ALL ON epp.* TO arkiv@localhost IDENTIFIED BY <span class="s1">&#39;password&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="mariadb">
<h3>MariaDB<a class="headerlink" href="#mariadb" title="Permalink to this headline">¶</a></h3>
<p>Follow the instructions below in order to create the user and tables required by EPP installation.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># To enable MariaDB on CentOS 7 run the following commands as user: root.</span>
$ /sbin/chkconfig mariadb on
$ /sbin/service mariadb start
$ /usr/bin/mysql_secure_installation

<span class="c1"># The MySQL commands listed below can be run within the mysql program, which</span>
<span class="c1"># may be invoked as follows.</span>
$ mysql -u root -p

<span class="c1"># Create the database. For example, to create a database named &quot;epp&quot;, enter.</span>
$ mysql&gt; CREATE DATABASE epp DEFAULT CHARACTER SET utf8<span class="p">;</span>

<span class="c1"># Set username, password and permissions for the database. For example, to</span>
<span class="c1"># set the permissions for user &quot;arkiv&quot; with password &quot;password&quot; on</span>
<span class="c1"># database &quot;epp&quot;, enter:</span>
$ mysql&gt; GRANT ALL ON epp.* TO arkiv@localhost IDENTIFIED BY <span class="s1">&#39;password&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="create-default-tables-in-database">
<h3>Create default tables in database<a class="headerlink" href="#create-default-tables-in-database" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Please run the following command as user arch</span>
<span class="o">[</span>arch@server ~<span class="o">]</span>$ python <span class="nv">$EPP</span>/manage.py migrate
</pre></div>
</div>
</div>
<div class="section" id="add-default-configuration-data-to-database">
<h3>Add default configuration data to database<a class="headerlink" href="#add-default-configuration-data-to-database" title="Permalink to this headline">¶</a></h3>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Only use this default configuration for test purposes, do not install this
default configuration in production. Replace XX with country specific profiles:
se, no or eark</p>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Please run the following command as user arch</span>
<span class="o">[</span>arch@server ~<span class="o">]</span>$ python <span class="nv">$EPP</span>/install/install_default_config_epp.py
<span class="o">[</span>arch@server ~<span class="o">]</span>$ python <span class="nv">$EPP</span>/install/install_profiles_epp_XX.py
<span class="o">[</span>arch@server ~<span class="o">]</span>$ python <span class="nv">$EC</span>/ESSArch_Core/install/install_default_config.py
</pre></div>
</div>
</div>
<div class="section" id="for-production-custom-installation">
<h3>For production/custom installation<a class="headerlink" href="#for-production-custom-installation" title="Permalink to this headline">¶</a></h3>
<p>For production environment you should first make a copy of this configuration file and update for example site_profile, site_name.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>arch@server ~<span class="o">]</span>$ cp <span class="nv">$EPP</span>/install/install_default_config_epp.py /home/arch/install_config_custom.py
</pre></div>
</div>
<p>Update and run <code class="docutils literal highlight highlight-default"><span></span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">arch</span><span class="o">/</span><span class="n">install_config_custom</span><span class="o">.</span><span class="n">py</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>arch@server ~<span class="o">]</span>$ python /home/arch/install_config_custom.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="enable-automatic-startup-at-system-boot">
<h2>Enable automatic startup at system boot<a class="headerlink" href="#enable-automatic-startup-at-system-boot" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Login as root user and set EPP path variable</span>
$ <span class="nb">export</span> <span class="nv">EPP_package</span><span class="o">=</span><span class="s1">&#39;ESSArch_PP_installer-3.0.0&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="enable-workerprocess">
<h2>Enable workerprocess<a class="headerlink" href="#enable-workerprocess" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Please run the following commands as user root</span>
$ cp /home/arch/<span class="si">${</span><span class="nv">EPP_package</span><span class="si">}</span>/extra/celerydepp.service /usr/lib/systemd/system/
$ systemctl <span class="nb">enable</span> celerydepp.service
$ cp /home/arch/<span class="si">${</span><span class="nv">EPP_package</span><span class="si">}</span>/extra/celerybeatepp.service /usr/lib/systemd/system/
$ systemctl <span class="nb">enable</span> celerybeatepp.service
$ cp /home/arch/<span class="si">${</span><span class="nv">EPP_package</span><span class="si">}</span>/extra/daphneepp.service /usr/lib/systemd/system/
$ systemctl <span class="nb">enable</span> daphneepp.service
$ cp /home/arch/<span class="si">${</span><span class="nv">EPP_package</span><span class="si">}</span>/extra/wsworkerepp.service /usr/lib/systemd/system/
$ systemctl <span class="nb">enable</span> wsworkerepp.service
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="upgrade.html" class="btn btn-neutral float-right" title="Upgrade ESSArch Preservation Platform" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="prepare_environment.html" class="btn btn-neutral" title="Prepare Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ES Solutions.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>